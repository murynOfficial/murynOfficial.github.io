"use strict";var productList=document.querySelector(".catalog"),articlesOnPage=9,pagesWrapper=document.querySelector(".pages"),totalPages=pagesWrapper.querySelector(".totalPages"),prevButton=pagesWrapper.querySelector(".prev"),nextButton=pagesWrapper.querySelector(".next"),template=document.querySelector(".template").content.querySelector("#project"),pages=[{name:"Kekstagram",description:"Kekstagram — image viewing service",img:"kekstagram",folder:"Kekstagram",type:"inProcess"},{name:"Code and Magic",description:"Code and Magic — a promo site of the game with the ability to play the demo version",img:"codeAndMagic",folder:"Code-and-magic",type:"inProcess"},{name:"Mishka",description:"Shop cute handicraft items for home ^_^",img:"mishka",folder:"Mishka/build",type:"inProcess"},{name:"Pink",description:"The application will allow you to beat autumn boredom and depression literally in a few clicks!",img:"pink",folder:"Pink"},{name:"Device",description:"A huge selection of gadgets will not leave indifferent geeks, which is in each of us",img:"device",folder:"Device",type:"updated"},{name:"Technomart",description:"Online store for building materials and repair tools",img:"technomart",folder:"Technomart"},{name:"The Great Keksby",description:"Online store of accessories for cats Collections FW15",img:"TheGreatKeksby",folder:"TheGreatKeksby"},{name:"Nerds",description:"A small design studio from Krasnodar",img:"nerds",folder:"Nerds"},{name:"Sedona",description:"Information site for tourists",img:"sedona",folder:"Sedona"}];function makeElement(e,t,a){var r=document.createElement(e);return t&&r.classList.add(t),a&&(r.textContent=a),r}function makeProduct(e){var t=template.cloneNode(!0);return t.querySelector(".product").href="pages/"+e.folder+"/index.html",t.querySelector(".webpSource").srcset="img/templates/"+e.img+".webp 1x, img/templates/"+e.img+"@2x.webp 2x",t.querySelector(".jpgSource").srcset="img/templates/"+e.img+".jpg 1x, img/templates/"+e.img+"@2x.jpg 2x",t.querySelector(".product__img").src="img/templates/"+e.img+".jpg",t.querySelector(".product__img").alt=e.name,t.querySelector("h4").textContent=e.name,t.querySelector(".product__description").textContent=e.description,"new"===e.type?t.querySelector(".new").style.display="block":"inProcess"===e.type?(t.querySelector(".product").href="#",t.querySelector(".product").target="_self",t.querySelector(".column").classList.add("inProcessDiv"),t.querySelector(".inProcess").style.display="block"):"updated"===e.type&&(t.querySelector(".updated").style.display="block"),t}if(articlesOnPage<pages.length){pagesWrapper.classList.add("activePages");for(var i=1;i<=Math.ceil(pages.length/articlesOnPage);i++){var pagesItem=makeElement("a","",i);totalPages.appendChild(pagesItem)}var pagesAll=document.querySelector(".totalPages a");pagesAll.classList.add("activePage");for(var allPages=document.querySelectorAll(".totalPages a"),_i=0;_i<articlesOnPage;_i++){var newProduct=makeProduct(pages[_i]);productList.appendChild(newProduct)}for(var activePageCount,_loop=function(c){allPages[c].addEventListener("click",function(e){activePage=document.querySelector(".activePage"),e.preventDefault(),activePage.classList.remove("activePage"),allPages[c].classList.add("activePage");for(var t=document.querySelectorAll(".catalog > div"),a=0;a<t.length;a++)productList.removeChild(t[a]);for(var r=allPages[c].text*articlesOnPage,i=r-articlesOnPage;i<r;i++){var o=makeProduct(pages[i]);productList.appendChild(o)}})},_i2=0;_i2<allPages.length;_i2++){var activePage;_loop(_i2)}prevButton.addEventListener("click",function(e){if(e.preventDefault(),1!=(activePage=document.querySelector(".activePage")).text){activePageCount=parseInt(activePage.text)-1,activePage.classList.remove("activePage"),allPages[activePageCount-1].classList.add("activePage");for(var t=document.querySelectorAll(".catalog > div"),a=0;a<t.length;a++)productList.removeChild(t[a]);for(var r=allPages[activePageCount-1].text*articlesOnPage,i=r-articlesOnPage;i<r;i++){var o=makeProduct(pages[i]);productList.appendChild(o)}}}),nextButton.addEventListener("click",function(e){if(e.preventDefault(),(activePage=document.querySelector(".activePage")).text!=allPages.length){activePageCount=parseInt(activePage.text),activePage.classList.remove("activePage"),allPages[activePageCount].classList.add("activePage");for(var t=document.querySelectorAll(".catalog > div"),a=0;a<t.length;a++)productList.removeChild(t[a]);for(var r=allPages[activePageCount].text*articlesOnPage,i=r-articlesOnPage;i<r;i++){var o=makeProduct(pages[i]);productList.appendChild(o)}}})}else{for(var fragment=document.createDocumentFragment(),_i3=0;_i3<pages.length;_i3++){var element=makeProduct(pages[_i3]);fragment.appendChild(element)}productList.appendChild(fragment)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0TGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFydGljbGVzT25QYWdlIiwicGFnZXNXcmFwcGVyIiwicHJldkJ1dHRvbiIsInRlbXBsYXRlIiwiY29udGVudCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImltZyIsImZvbGRlciIsInR5cGUiLCJwYWdlcyIsIm1ha2VFbGVtZW50IiwidGFnTmFtZSIsImNsYXNzTmFtZSIsInRleHQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsIm1ha2VQcm9kdWN0IiwiZGF0YSIsImNsb25lTm9kZSIsImhyZWYiLCJzcmNzZXQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGlzcGxheSIsImxlbmd0aCIsImkiLCJjZWlsIiwidGFyZ2V0IiwicGFnZXNJdGVtIiwicGFnZXNBbGwiLCJhbGxQYWdlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXdQcm9kdWN0IiwiZSIsInRvdGFsUGFnZXMiLCJhcHBlbmRDaGlsZCIsInByZXZlbnREZWZhdWx0IiwiYWN0aXZlUGFnZSIsInJlbW92ZSIsInByb2R1Y3RBdmFpYmxlZCIsImoiLCJyZW1vdmVDaGlsZCIsInByb2R1Y3RQbGFjZUluQXJyYXkiLCJfbG9vcCIsImFjdGl2ZVBhZ2VDb3VudCIsImEiLCJiIiwibmV4dEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXJzZUludCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFDRUEsWUFBY0MsU0FBU0MsY0FBYyxZQUR2Q0MsZUFDZ0JGLEVBRGhCRyxhQUNvREgsU0FBQUMsY0FBQSxVQUNsREMsV0FBY0MsYUFGaEJGLGNBQUEsZUFBQUcsV0FFc0JELGFBQUFGLGNBQUEsU0FDcEJFLFdBQWVILGFBQVNDLGNBQWMsU0FIeENJLFNBR21ETCxTQUFBQyxjQUFBLGFB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QSxTQUFBZixHQUZGLEdBZmlDQSxFQUFBRyxrQkFzRC9CQyxXQUFhNUMsU0FBU0MsY0FBYyxnQkF2Q3RDZSxNQUFvQnFCLFNBQVNOLE9BQVFDLENBQUttQixnQkFBQUssU0FBQVosV0FBQTVCLE1BMEN0QzRCLFdBQVd6QixVQUFVMEIsT0FBTyxjQTFDVVIsU0FBQWMsaUJBQUFoQyxVQUFBQyxJQUFBLGNBNkN0QyxJQTVCSCxJQUFBMEIsRUFBQTlDLFNBQUFzQyxpQkFBQSxrQkE0QlljLEVBQUksRUFBR0EsRUFBSU4sRUFBZ0JmLE9BQVFxQixJQTNCNUNELFlBQUFBLFlBQUpMLEVBQUFNLElBR0VSLElBREVELElBQUFBLEVBQUZOLFNBQUFjLGlCQUFBbkMsS0FBQWQsZUFDVW1ELEVBQUdyRCxFQUF1QkUsZUFBcENtRCxFQUFBSixFQUFBSSxJQUFBLENBNkJJLElBQUlkLEVBQWFsQixZQUFZVCxNQUFNeUMsSUE1Qm5DVCxZQUFXNUIsWUFBV3VCLFdBSXhCLENBRUV4QyxJQTRCTixJQUFJMEQsU0FBV3pELFNBQVMwRCx5QkE1QmxCM0QsSUFBQUEsRUFBQUEsSUFBWWlELE1BQUFBLE9BQVlGLE1BQUFBLENBQ3pCLElBQUE1QixRQUFBRyxZQUFBVCxNQUFBb0IsTUErQkh5QixTQUFTZixZQUFZeEIsU0FHdkJuQixZQUFZMkMsWUFBWWUiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3RcbiAgcHJvZHVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhdGFsb2dcIiksIC8vIGZpbmQgY2F0YWxvZyAod3JhcHBlcilcbiAgYXJ0aWNsZXNPblBhZ2UgPSA5LCAvLyBhcnRpY2xlcyBvbiBwYWdlIGNvdW50XG4gIHBhZ2VzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZXNcIiksIC8vIGZpbmQgYnV0dG9uIHdyYXBwZXJcbiAgdG90YWxQYWdlcyA9IHBhZ2VzV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLnRvdGFsUGFnZXNcIiksIC8vIGZpbmQgbGlua3Mgd3JhcHBlclxuICBwcmV2QnV0dG9uID0gcGFnZXNXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJldlwiKSwgLy8gZmluZCBwcmV2UGFnZSBidXR0b25cbiAgbmV4dEJ1dHRvbiA9IHBhZ2VzV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLm5leHRcIiksIC8vIGZpbmQgbmV4dFBhZ2UgYnV0dG9uXG4gIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBsYXRlJykuY29udGVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpO1xuXG4vLyBuYW1lICAgICAgICA9IHByb2R1Y3QgbmFtZSxcbi8vIGRlc2NyaXB0aW9uID0gcHJvZHVjdCBkZXNjcmlwdGlvbixcbi8vIGltZyAgICAgICAgID0gaW1nIG5hbWVcbi8vIGZvbGRlciAgICAgID0gZm9sZGVyIHdpdGggaW5kZXggZmlsZSxcbi8vIHR5cGUgICAgICAgID0gcHJvamVjdCB0eXBlIChuZXcsIGluUHJvY2VzcywgdXBkYXRlZCwgbm9ybWFsKVxubGV0IHBhZ2VzID0gW3tcbiAgICBuYW1lOiBcIktla3N0YWdyYW1cIixcbiAgICBkZXNjcmlwdGlvbjogXCJLZWtzdGFncmFtIOKAlCBpbWFnZSB2aWV3aW5nIHNlcnZpY2VcIixcbiAgICBpbWc6IFwia2Vrc3RhZ3JhbVwiLFxuICAgIGZvbGRlcjogXCJLZWtzdGFncmFtXCIsXG4gICAgdHlwZTogXCJpblByb2Nlc3NcIlxuICB9LCB7XG4gICAgbmFtZTogXCJDb2RlIGFuZCBNYWdpY1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNvZGUgYW5kIE1hZ2ljIOKAlCBhIHByb21vIHNpdGUgb2YgdGhlIGdhbWUgd2l0aCB0aGUgYWJpbGl0eSB0byBwbGF5IHRoZSBkZW1vIHZlcnNpb25cIixcbiAgICBpbWc6IFwiY29kZUFuZE1hZ2ljXCIsXG4gICAgZm9sZGVyOiBcIkNvZGUtYW5kLW1hZ2ljXCIsXG4gICAgdHlwZTogXCJpblByb2Nlc3NcIlxuICB9LCB7XG4gICAgbmFtZTogXCJNaXNoa2FcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTaG9wIGN1dGUgaGFuZGljcmFmdCBpdGVtcyBmb3IgaG9tZSBeX15cIixcbiAgICBpbWc6IFwibWlzaGthXCIsXG4gICAgZm9sZGVyOiBcIk1pc2hrYS9idWlsZFwiLFxuICAgIHR5cGU6IFwiaW5Qcm9jZXNzXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUGlua1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBhcHBsaWNhdGlvbiB3aWxsIGFsbG93IHlvdSB0byBiZWF0IGF1dHVtbiBib3JlZG9tIGFuZCBkZXByZXNzaW9uIGxpdGVyYWxseSBpbiBhIGZldyBjbGlja3MhXCIsXG4gICAgaW1nOiBcInBpbmtcIixcbiAgICBmb2xkZXI6IFwiUGlua1wiXG4gIH0sIHtcbiAgICBuYW1lOiBcIkRldmljZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkEgaHVnZSBzZWxlY3Rpb24gb2YgZ2FkZ2V0cyB3aWxsIG5vdCBsZWF2ZSBpbmRpZmZlcmVudCBnZWVrcywgd2hpY2ggaXMgaW4gZWFjaCBvZiB1c1wiLFxuICAgIGltZzogXCJkZXZpY2VcIixcbiAgICBmb2xkZXI6IFwiRGV2aWNlXCIsXG4gICAgdHlwZTogXCJ1cGRhdGVkXCJcbiAgfSwge1xuICAgIG5hbWU6IFwiVGVjaG5vbWFydFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIk9ubGluZSBzdG9yZSBmb3IgYnVpbGRpbmcgbWF0ZXJpYWxzIGFuZCByZXBhaXIgdG9vbHNcIixcbiAgICBpbWc6IFwidGVjaG5vbWFydFwiLFxuICAgIGZvbGRlcjogXCJUZWNobm9tYXJ0XCJcbiAgfSwge1xuICAgIG5hbWU6IFwiVGhlIEdyZWF0IEtla3NieVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIk9ubGluZSBzdG9yZSBvZiBhY2Nlc3NvcmllcyBmb3IgY2F0cyBDb2xsZWN0aW9ucyBGVzE1XCIsXG4gICAgaW1nOiBcIlRoZUdyZWF0S2Vrc2J5XCIsXG4gICAgZm9sZGVyOiBcIlRoZUdyZWF0S2Vrc2J5XCJcbiAgfSwge1xuICAgIG5hbWU6IFwiTmVyZHNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBIHNtYWxsIGRlc2lnbiBzdHVkaW8gZnJvbSBLcmFzbm9kYXJcIixcbiAgICBpbWc6IFwibmVyZHNcIixcbiAgICBmb2xkZXI6IFwiTmVyZHNcIlxuICB9LCB7XG4gICAgbmFtZTogXCJTZWRvbmFcIixcbiAgICBkZXNjcmlwdGlvbjogXCJJbmZvcm1hdGlvbiBzaXRlIGZvciB0b3VyaXN0c1wiLFxuICAgIGltZzogXCJzZWRvbmFcIixcbiAgICBmb2xkZXI6IFwiU2Vkb25hXCJcbiAgfVxuXTtcblxuZnVuY3Rpb24gbWFrZUVsZW1lbnQodGFnTmFtZSwgY2xhc3NOYW1lLCB0ZXh0KSB7IC8vIGNyZWF0ZSBmdW5jdGlvbiBtYWtlRWxlbWVudFxuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7IC8vIGNyZWF0ZSBlbGVtZW50XG4gIGlmIChjbGFzc05hbWUpIHsgLy8gY2hlY2sgY2xhc3NOYW1lIGF2YWlsYWJpbGl0eVxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyAvLyBhZGQgY2xhc3NOYW1lXG4gIH1cbiAgaWYgKHRleHQpIHsgLy8gY2hlY2sgdGV4dCBhdmFpbGFiaWxpdHlcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDsgLy8gYWRkIHRleHRcbiAgfVxuICByZXR1cm4gZWxlbWVudDsgLy8gcmV0dXJuIGVsZW1lbnRcbn07XG5cbmZ1bmN0aW9uIG1ha2VQcm9kdWN0KGRhdGEpIHsgLy8gY3JlYXRlIGZ1bmN0aW9uIG1ha2VQcm9kdWN0XG4gIGxldCBlbGVtZW50ID0gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuXG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QnKS5ocmVmID0gXCJwYWdlcy9cIiArIGRhdGEuZm9sZGVyICsgXCIvaW5kZXguaHRtbFwiO1xuICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWJwU291cmNlJykuc3Jjc2V0ID0gXCJpbWcvdGVtcGxhdGVzL1wiICsgZGF0YS5pbWcgKyBcIi53ZWJwIDF4LCBpbWcvdGVtcGxhdGVzL1wiICsgZGF0YS5pbWcgKyBcIkAyeC53ZWJwIDJ4XCI7XG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpwZ1NvdXJjZScpLnNyY3NldCA9IFwiaW1nL3RlbXBsYXRlcy9cIiArIGRhdGEuaW1nICsgXCIuanBnIDF4LCBpbWcvdGVtcGxhdGVzL1wiICsgZGF0YS5pbWcgKyBcIkAyeC5qcGcgMnhcIjtcbiAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9faW1nJykuc3JjID0gJ2ltZy90ZW1wbGF0ZXMvJyArIGRhdGEuaW1nICsgJy5qcGcnO1xuICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19pbWcnKS5hbHQgPSBkYXRhLm5hbWU7XG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaDQnKS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGVzY3JpcHRpb24nKS50ZXh0Q29udGVudCA9IGRhdGEuZGVzY3JpcHRpb247XG5cbiAgaWYgKGRhdGEudHlwZSA9PT0gJ25ldycpIHtcbiAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXcnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdpblByb2Nlc3MnKSB7XG4gICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdCcpLmhyZWYgPSBcIiNcIjtcbiAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0JykudGFyZ2V0ID0gXCJfc2VsZlwiO1xuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNvbHVtbicpLmNsYXNzTGlzdC5hZGQoJ2luUHJvY2Vzc0RpdicpO1xuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmluUHJvY2VzcycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gXCJ1cGRhdGVkXCIpIHtcbiAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cGRhdGVkJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQ7IC8vIHJldHVybiBlbGVtZW50XG59XG5cbmlmIChhcnRpY2xlc09uUGFnZSA8IHBhZ2VzLmxlbmd0aCkge1xuICBwYWdlc1dyYXBwZXIuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVBhZ2VzXCIpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IE1hdGguY2VpbChwYWdlcy5sZW5ndGggLyBhcnRpY2xlc09uUGFnZSk7IGkrKykge1xuICAgIGxldCBwYWdlc0l0ZW0gPSBtYWtlRWxlbWVudChcImFcIiwgXCJcIiwgaSk7XG4gICAgdG90YWxQYWdlcy5hcHBlbmRDaGlsZChwYWdlc0l0ZW0pO1xuICB9XG5cbiAgbGV0IHBhZ2VzQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3RhbFBhZ2VzIGFcIik7XG4gIHBhZ2VzQWxsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVQYWdlXCIpO1xuICB2YXIgYWxsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvdGFsUGFnZXMgYVwiKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnRpY2xlc09uUGFnZTsgaSsrKSB7XG4gICAgbGV0IG5ld1Byb2R1Y3QgPSBtYWtlUHJvZHVjdChwYWdlc1tpXSk7XG4gICAgcHJvZHVjdExpc3QuYXBwZW5kQ2hpbGQobmV3UHJvZHVjdCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQYWdlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhY3RpdmVQYWdlO1xuICAgIGFsbFBhZ2VzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGFjdGl2ZVBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZVBhZ2VcIilcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVBhZ2VcIik7XG4gICAgICBhbGxQYWdlc1tpXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlUGFnZVwiKTtcbiAgICAgIGxldCBwcm9kdWN0QXZhaWJsZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGFsb2cgPiBkaXZcIik7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb2R1Y3RBdmFpYmxlZC5sZW5ndGg7IGorKykge1xuICAgICAgICBwcm9kdWN0TGlzdC5yZW1vdmVDaGlsZChwcm9kdWN0QXZhaWJsZWRbal0pO1xuICAgICAgfTtcbiAgICAgIGxldCBwcm9kdWN0UGxhY2VJbkFycmF5ID0gYWxsUGFnZXNbaV0udGV4dCAqIGFydGljbGVzT25QYWdlO1xuICAgICAgZm9yIChsZXQgaiA9IHByb2R1Y3RQbGFjZUluQXJyYXkgLSBhcnRpY2xlc09uUGFnZTsgaiA8IHByb2R1Y3RQbGFjZUluQXJyYXk7IGorKykge1xuICAgICAgICBsZXQgbmV3UHJvZHVjdCA9IG1ha2VQcm9kdWN0KHBhZ2VzW2pdKTtcbiAgICAgICAgcHJvZHVjdExpc3QuYXBwZW5kQ2hpbGQobmV3UHJvZHVjdCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBsZXQgYWN0aXZlUGFnZUNvdW50O1xuICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhY3RpdmVQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmVQYWdlXCIpO1xuICAgIGlmIChhY3RpdmVQYWdlLnRleHQgIT0gMSkge1xuICAgICAgYWN0aXZlUGFnZUNvdW50ID0gcGFyc2VJbnQoYWN0aXZlUGFnZS50ZXh0KSAtIDE7XG4gICAgICBhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVQYWdlXCIpO1xuICAgICAgYWxsUGFnZXNbYWN0aXZlUGFnZUNvdW50IC0gMV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVBhZ2VcIik7XG4gICAgICBsZXQgcHJvZHVjdEF2YWlibGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXRhbG9nID4gZGl2XCIpO1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBwcm9kdWN0QXZhaWJsZWQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgcHJvZHVjdExpc3QucmVtb3ZlQ2hpbGQocHJvZHVjdEF2YWlibGVkW2FdKTtcbiAgICAgIH07XG4gICAgICBsZXQgcHJvZHVjdFBsYWNlSW5BcnJheSA9IGFsbFBhZ2VzW2FjdGl2ZVBhZ2VDb3VudCAtIDFdLnRleHQgKiBhcnRpY2xlc09uUGFnZTtcbiAgICAgIGZvciAobGV0IGIgPSBwcm9kdWN0UGxhY2VJbkFycmF5IC0gYXJ0aWNsZXNPblBhZ2U7IGIgPCBwcm9kdWN0UGxhY2VJbkFycmF5OyBiKyspIHtcbiAgICAgICAgbGV0IG5ld1Byb2R1Y3QgPSBtYWtlUHJvZHVjdChwYWdlc1tiXSk7XG4gICAgICAgIHByb2R1Y3RMaXN0LmFwcGVuZENoaWxkKG5ld1Byb2R1Y3QpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgbmV4dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWN0aXZlUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWN0aXZlUGFnZVwiKTtcbiAgICBpZiAoYWN0aXZlUGFnZS50ZXh0ICE9IGFsbFBhZ2VzLmxlbmd0aCkge1xuICAgICAgYWN0aXZlUGFnZUNvdW50ID0gcGFyc2VJbnQoYWN0aXZlUGFnZS50ZXh0KTtcbiAgICAgIGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVBhZ2VcIik7XG4gICAgICBhbGxQYWdlc1thY3RpdmVQYWdlQ291bnRdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVQYWdlXCIpO1xuICAgICAgbGV0IHByb2R1Y3RBdmFpYmxlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2F0YWxvZyA+IGRpdlwiKTtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgcHJvZHVjdEF2YWlibGVkLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHByb2R1Y3RMaXN0LnJlbW92ZUNoaWxkKHByb2R1Y3RBdmFpYmxlZFthXSk7XG4gICAgICB9O1xuICAgICAgbGV0IHByb2R1Y3RQbGFjZUluQXJyYXkgPSBhbGxQYWdlc1thY3RpdmVQYWdlQ291bnRdLnRleHQgKiBhcnRpY2xlc09uUGFnZTtcbiAgICAgIGZvciAobGV0IGIgPSBwcm9kdWN0UGxhY2VJbkFycmF5IC0gYXJ0aWNsZXNPblBhZ2U7IGIgPCBwcm9kdWN0UGxhY2VJbkFycmF5OyBiKyspIHtcbiAgICAgICAgbGV0IG5ld1Byb2R1Y3QgPSBtYWtlUHJvZHVjdChwYWdlc1tiXSk7XG4gICAgICAgIHByb2R1Y3RMaXN0LmFwcGVuZENoaWxkKG5ld1Byb2R1Y3QpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbn0gZWxzZSB7XG4gIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBtYWtlUHJvZHVjdChwYWdlc1tpXSk7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cblxuICBwcm9kdWN0TGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG59XG4iXX0=
